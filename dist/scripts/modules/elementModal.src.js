import{elementIsExistWithLog as o,sleep as l}from"./general.js";export default class a{constructor(t){if(!!o("ElementModal",t.contentElementsSelector,t.modalElementSelector)){this.contentElements=document.querySelectorAll(t.contentElementsSelector),this.modalElement=document.querySelector(t.modalElementSelector),this.animationDuration=parseFloat(getComputedStyle(this.modalElement).getPropertyValue("transition-duration"))*1e3;for(let e of this.contentElements)e.addEventListener("mouseenter",()=>this.appendModalMenu(e,this.modalElement)),e.addEventListener("mouseleave",()=>this.removeModalMenu(e,this.animationDuration)),e.tabIndex!=-1&&(e.addEventListener("focus",()=>this.appendModalMenu(e,this.modalElement)),e.addEventListener("blur",()=>this.removeModalMenu(e,this.animationDuration)))}}async appendModalMenu(t,e){let n=e.cloneNode(!0);t.append(n),await l(30),n.classList.remove("_non-active")}async removeModalMenu(t,e){let n=t.lastElementChild;n&&(n.classList.add("_non-active"),await l(e+100),n.remove())}}
